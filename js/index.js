window.semantic={handler:{}};semantic.accordion={};semantic.accordion.ready=function(){var $accordion=$('.ui.accordion'),$menuAccordion=$('.ui.menu.accordion'),$checkbox=$('.ui.checkbox'),handler;$accordion.accordion();$menuAccordion.accordion({exclusive:true});$checkbox.checkbox();};$(document).ready(semantic.accordion.ready);axios.get('https://api.batmod.com/dl-count').then(data=>{if(data.data==null)return;downloadData=data.data;document.getElementById("dl-count").innerHTML=commaSeparateNumber(downloadData.count);}).catch(err=>{console.error(err);});axios.get('https://batmod.com/api/team').then(data=>{if(data.data==null)return;parseTeamData(data.data);}).catch(err=>{console.error(err);});window.onload=()=>{(function updateOnlineCount(){axios.get('https://api.batmod.com/online-count').then(data=>{if(data.data==null)return;onlineUserData=data.data;document.getElementById("online-count").innerHTML=commaSeparateNumber(onlineUserData.count);}).catch(err=>{console.error(err);});setTimeout(updateOnlineCount,5000);})();};function parseTeamData(teamData){let teamDiv=document.getElementById("team-heads");teamData.data.forEach(teamItem=>{let itemDiv=document.createElement('div'),content=document.createElement('div'),img=document.createElement('img'),header=document.createElement('div');axios.get('https://api.ashcon.app/mojang/v2/user/'+teamItem.uuid).then(result=>{img.className='ui centered image';img.src='https://crafatar.com/avatars/'+teamItem.uuid+'?default=MHF_Steve&overlay';header.className='ui centered header';header.style.color=teamItem.role.color;header.innerHTML=teamItem.role.name+'<br/>'+result.data.username;content.append(img);content.append(header);itemDiv.className='column ui card';itemDiv.append(content);itemDiv.onclick=()=>{window.open('https://namemc.com/profile/'+teamItem.uuid,"_blank");}
teamDiv.append(itemDiv);})});}
function commaSeparateNumber(val){while(/(\d+)(\d{3})/.test(val.toString())){val=val.toString().replace(/(\d+)(\d{3})/,'$1'+','+'$2');}
return val;}